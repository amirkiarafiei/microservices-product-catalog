{"openapi":"3.1.0","info":{"title":"Pricing Service","description":"Service for managing product pricing","version":"0.1.0"},"paths":{"/health":{"get":{"summary":"Health Check","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/prices":{"post":{"summary":"Create Price","operationId":"create_price_api_v1_prices_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"public_key","in":"query","required":false,"schema":{"type":"string","title":"Public Key"}},{"name":"algorithm","in":"query","required":false,"schema":{"type":"string","default":"RS256","title":"Algorithm"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PriceCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PriceRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"summary":"List Prices","operationId":"list_prices_api_v1_prices_get","parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PriceRead"},"title":"Response List Prices Api V1 Prices Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prices/{price_id}":{"get":{"summary":"Get Price","operationId":"get_price_api_v1_prices__price_id__get","parameters":[{"name":"price_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Price Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PriceRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"summary":"Update Price","operationId":"update_price_api_v1_prices__price_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"price_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Price Id"}},{"name":"public_key","in":"query","required":false,"schema":{"type":"string","title":"Public Key"}},{"name":"algorithm","in":"query","required":false,"schema":{"type":"string","default":"RS256","title":"Algorithm"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PriceUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PriceRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"summary":"Delete Price","operationId":"delete_price_api_v1_prices__price_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"price_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Price Id"}},{"name":"public_key","in":"query","required":false,"schema":{"type":"string","title":"Public Key"}},{"name":"algorithm","in":"query","required":false,"schema":{"type":"string","default":"RS256","title":"Algorithm"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prices/{price_id}/lock":{"post":{"summary":"Lock Price","operationId":"lock_price_api_v1_prices__price_id__lock_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"price_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Price Id"}},{"name":"public_key","in":"query","required":false,"schema":{"type":"string","title":"Public Key"}},{"name":"algorithm","in":"query","required":false,"schema":{"type":"string","default":"RS256","title":"Algorithm"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PriceLock"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PriceRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prices/{price_id}/unlock":{"post":{"summary":"Unlock Price","operationId":"unlock_price_api_v1_prices__price_id__unlock_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"price_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Price Id"}},{"name":"public_key","in":"query","required":false,"schema":{"type":"string","title":"Public Key"}},{"name":"algorithm","in":"query","required":false,"schema":{"type":"string","default":"RS256","title":"Algorithm"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PriceRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"CurrencyEnum":{"type":"string","enum":["USD","EUR","TRY"],"title":"CurrencyEnum"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"PriceCreate":{"properties":{"name":{"type":"string","title":"Name"},"value":{"anyOf":[{"type":"number"},{"type":"string","pattern":"^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}],"title":"Value"},"unit":{"type":"string","title":"Unit"},"currency":{"$ref":"#/components/schemas/CurrencyEnum"}},"type":"object","required":["name","value","unit","currency"],"title":"PriceCreate"},"PriceLock":{"properties":{"saga_id":{"type":"string","format":"uuid","title":"Saga Id"}},"type":"object","required":["saga_id"],"title":"PriceLock"},"PriceRead":{"properties":{"name":{"type":"string","title":"Name"},"value":{"type":"string","pattern":"^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$","title":"Value"},"unit":{"type":"string","title":"Unit"},"currency":{"$ref":"#/components/schemas/CurrencyEnum"},"id":{"type":"string","format":"uuid","title":"Id"},"locked":{"type":"boolean","title":"Locked"},"locked_by_saga_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Locked By Saga Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["name","value","unit","currency","id","locked","locked_by_saga_id","created_at","updated_at"],"title":"PriceRead"},"PriceUpdate":{"properties":{"name":{"type":"string","title":"Name"},"value":{"anyOf":[{"type":"number"},{"type":"string","pattern":"^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}],"title":"Value"},"unit":{"type":"string","title":"Unit"},"currency":{"$ref":"#/components/schemas/CurrencyEnum"}},"type":"object","required":["name","value","unit","currency"],"title":"PriceUpdate"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"HTTPBearer":{"type":"http","scheme":"bearer"}}}}